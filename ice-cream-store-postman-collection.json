{
	"info": {
		"_postman_id": "ice-cream-store-api",
		"name": "Ice Cream Store API",
		"description": "Complete API collection for Ice Cream Store microservices",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "12345678"
	},
	"item": [
		{
			"name": "üîê Session Management",
			"item": [
				{
					"name": "Public Endpoints",
					"item": [
						{
							"name": "Login",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"username\": \"admin\",\n  \"password\": \"admin123\"\n}"
								},
								"url": {
									"raw": "{{gateway_url}}/api/v1/sessions/p/login",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "sessions", "p", "login"]
								}
							}
						},
						{
							"name": "Validate Session",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"token\": \"{{auth_token}}\"\n}"
								},
								"url": {
									"raw": "{{gateway_url}}/api/v1/sessions/p/validate",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "sessions", "p", "validate"]
								}
							}
						},
						{
							"name": "Health Check",
							"request": {
								"method": "GET",
								"url": {
									"raw": "{{gateway_url}}/api/v1/sessions/p/health",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "sessions", "p", "health"]
								}
							}
						}
					]
				},
				{
					"name": "Protected Endpoints",
					"item": [
						{
							"name": "Refresh Session",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/sessions/refresh",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "sessions", "refresh"]
								}
							}
						},
						{
							"name": "Get User Sessions",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/sessions/user/{{user_id}}",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "sessions", "user", "{{user_id}}"]
								}
							}
						},
						{
							"name": "Revoke Session",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/sessions/{{session_id}}",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "sessions", "{{session_id}}"]
								}
							}
						}
					]
				}
			]
		},
		{
			"name": "üì¶ Inventory Management",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{gateway_url}}/api/v1/inventory/p/health",
							"host": ["{{gateway_url}}"],
							"path": ["api", "v1", "inventory", "p", "health"]
						}
					}
				},
				{
					"name": "Suppliers",
					"item": [
						{
							"name": "List Suppliers",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/inventory/suppliers",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "inventory", "suppliers"]
								}
							}
						},
						{
							"name": "Create Supplier",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Test Supplier\",\n  \"contact_person\": \"John Doe\",\n  \"phone\": \"+1234567890\",\n  \"email\": \"john@supplier.com\",\n  \"address\": \"123 Supplier St\",\n  \"is_active\": true\n}"
								},
								"url": {
									"raw": "{{gateway_url}}/api/v1/inventory/suppliers",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "inventory", "suppliers"]
								}
							}
						},
						{
							"name": "Get Supplier",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/inventory/suppliers/{{supplier_id}}",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "inventory", "suppliers", "{{supplier_id}}"]
								}
							}
						},
						{
							"name": "Update Supplier",
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Updated Supplier\",\n  \"contact_person\": \"Jane Doe\",\n  \"phone\": \"+0987654321\",\n  \"email\": \"jane@supplier.com\",\n  \"address\": \"456 Updated St\",\n  \"is_active\": true\n}"
								},
								"url": {
									"raw": "{{gateway_url}}/api/v1/inventory/suppliers/{{supplier_id}}",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "inventory", "suppliers", "{{supplier_id}}"]
								}
							}
						},
						{
							"name": "Delete Supplier",
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/inventory/suppliers/{{supplier_id}}",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "inventory", "suppliers", "{{supplier_id}}"]
								}
							}
						}
					]
				},
				{
					"name": "Ingredient Categories",
					"item": [
						{
							"name": "List Categories",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/inventory/ingredient-categories",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "inventory", "ingredient-categories"]
								}
							}
						},
						{
							"name": "Create Category",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Test Category\",\n  \"description\": \"Test category description\",\n  \"is_active\": true\n}"
								},
								"url": {
									"raw": "{{gateway_url}}/api/v1/inventory/ingredient-categories",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "inventory", "ingredient-categories"]
								}
							}
						}
					]
				},
				{
					"name": "Ingredients",
					"item": [
						{
							"name": "List Ingredients",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/inventory/ingredients",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "inventory", "ingredients"]
								}
							}
						},
						{
							"name": "Create Ingredient",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Test Ingredient\",\n  \"description\": \"Test ingredient description\",\n  \"ingredient_category_id\": \"{{category_id}}\",\n  \"supplier_id\": \"{{supplier_id}}\",\n  \"unit_type\": \"Liters\",\n  \"is_active\": true\n}"
								},
								"url": {
									"raw": "{{gateway_url}}/api/v1/inventory/ingredients",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "inventory", "ingredients"]
								}
							}
						}
					]
				},
				{
					"name": "Existences",
					"item": [
						{
							"name": "List Existences",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/inventory/existences",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "inventory", "existences"]
								}
							}
						}
					]
				}
			]
		},
		{
			"name": "üìÑ Invoice Management",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{gateway_url}}/api/v1/invoices/p/health",
							"host": ["{{gateway_url}}"],
							"path": ["api", "v1", "invoices", "p", "health"]
						}
					}
				},
				{
					"name": "Expense Categories",
					"item": [
						{
							"name": "List Expense Categories",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/invoices/expense-categories",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "invoices", "expense-categories"]
								}
							}
						},
						{
							"name": "Create Expense Category",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"category_name\": \"Test Category\",\n  \"description\": \"Test expense category\",\n  \"is_active\": true\n}"
								},
								"url": {
									"raw": "{{gateway_url}}/api/v1/invoices/expense-categories",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "invoices", "expense-categories"]
								}
							}
						}
					]
				},
				{
					"name": "Invoices",
					"item": [
						{
							"name": "List Invoices",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/invoices",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "invoices"]
								}
							}
						},
						{
							"name": "Create Invoice",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"invoice_number\": \"INV-001\",\n  \"transaction_date\": \"2024-01-15T00:00:00Z\",\n  \"transaction_type\": \"outcome\",\n  \"expense_category_id\": \"{{expense_category_id}}\",\n  \"image_url\": \"https://example.com/invoice.jpg\",\n  \"notes\": \"Test invoice\",\n  \"supplier_id\": \"{{supplier_id}}\",\n  \"items\": [\n    {\n      \"detail\": \"Test Item\",\n      \"count\": 10,\n      \"unit_type\": \"Units\",\n      \"price\": 5.50,\n      \"ingredient_id\": \"{{ingredient_id}}\"\n    }\n  ]\n}"
								},
								"url": {
									"raw": "{{gateway_url}}/api/v1/invoices",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "invoices"]
								}
							}
						},
						{
							"name": "Get Invoice",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/invoices/{{invoice_id}}",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "invoices", "{{invoice_id}}"]
								}
							}
						}
					]
				}
			]
		},
		{
			"name": "üõí Orders Management",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{gateway_url}}/api/v1/orders/p/health",
							"host": ["{{gateway_url}}"],
							"path": ["api", "v1", "orders", "p", "health"]
						}
					}
				},
				{
					"name": "Orders",
					"item": [
						{
							"name": "List Orders",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/orders",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "orders"]
								}
							}
						},
						{
							"name": "Create Order",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"customer_id\": \"{{customer_id}}\",\n  \"total_amount\": 25.50,\n  \"discount_amount\": 2.50,\n  \"order_status\": \"pending\"\n}"
								},
								"url": {
									"raw": "{{gateway_url}}/api/v1/orders",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "orders"]
								}
							}
						},
						{
							"name": "Get Order",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/orders/{{order_id}}",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "orders", "{{order_id}}"]
								}
							}
						},
						{
							"name": "Cancel Order",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/orders/{{order_id}}/cancel",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "orders", "{{order_id}}", "cancel"]
								}
							}
						}
					]
				},
				{
					"name": "Statistics",
					"item": [
						{
							"name": "Order Summary",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/orders/summary",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "orders", "summary"]
								}
							}
						},
						{
							"name": "Payment Method Stats",
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/v1/orders/stats/payment-methods",
									"host": ["{{gateway_url}}"],
									"path": ["api", "v1", "orders", "stats", "payment-methods"]
								}
							}
						}
					]
				}
			]
		},
		{
			"name": "üîß Gateway Management",
			"item": [
				{
					"name": "Gateway Health",
					"request": {
						"method": "GET",
						"url": {
							"raw": "{{gateway_url}}/api/health",
							"host": ["{{gateway_url}}"],
							"path": ["api", "health"]
						}
					}
				},
				{
					"name": "Service Management",
					"item": [
						{
							"name": "Start Service",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/management/services/{{service_name}}/start",
									"host": ["{{gateway_url}}"],
									"path": ["api", "management", "services", "{{service_name}}", "start"]
								}
							}
						},
						{
							"name": "Stop Service",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/management/services/{{service_name}}/stop",
									"host": ["{{gateway_url}}"],
									"path": ["api", "management", "services", "{{service_name}}", "stop"]
								}
							}
						},
						{
							"name": "Restart Service",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": {
									"raw": "{{gateway_url}}/api/management/services/{{service_name}}/restart",
									"host": ["{{gateway_url}}"],
									"path": ["api", "management", "services", "{{service_name}}", "restart"]
								}
							}
						}
					]
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "gateway_url",
			"value": "http://localhost:8082",
			"type": "string"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "session_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "supplier_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "category_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "ingredient_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "expense_category_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "invoice_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "order_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "customer_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "service_name",
			"value": "session",
			"type": "string"
		}
	]
} 